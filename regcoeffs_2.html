<!doctype HTML>
<meta charset = 'utf-8'>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="c3mod.css" />
  <script src="http://c3js.org/js/c3.min-631d1d50.js"></script>

    <script src='http://d3js.org/d3.v3.min.js' type='text/javascript'></script>
    <script src='http://d3js.org/topojson.v1.min.js' type='text/javascript'></script>
    <script src='http://datamaps.github.io/scripts/datamaps.all.min.js' type='text/javascript'></script>
    <script src='http://cdnjs.cloudflare.com/ajax/libs/handlebars.js/1.0.0/handlebars.min.js' type='text/javascript'></script>
    <script src='http://cdnjs.cloudflare.com/ajax/libs/angular.js/1.2.1/angular.min.js' type='text/javascript'></script>
    <script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.5.min.js"></script>
    <style>

    .rChart {
      display: block;
      margin-left: auto; 
      margin-right: auto;
      width: 1400px;
      height: 500px;
    }

    #buttonz {
      margin-left: auto; 
      margin-right: auto;
      margin-top: 100px auto;
      float:none;
      font-size: 32px;
      font-family: Futura, Verdana, Sans-Serif;
      color:white;
      display:block;
      text-align:center;
    }

    #button_item {
      font-size: 17px;
      font-family: Futura, Verdana, Sans-Serif;
    }

    .center-element{
      width: 100px;
      text-align: center;
    }

    #chartcontainer {
      
      margin-left: auto; 
      margin-right: auto;
      width: 800px;
      height: 400px;
    }
    .datamaps-legend dt, .datamaps-legend dd, .datamaps-legend dl  {
        float: none;
        color: black;
        background-color: white;
        opacity:.9;
        font-size: 14px;
    }
    .datamaps-legend {
        right: -50px;
        top: 0;
    }

    body {
      background-color: #1F283B;
    }

    </style>
    
  </head>
  <body ng-app ng-controller='rChartsCtrl'>

<div id='chart23b225d997a1' class='rChart datamaps'></div>  
      
      <div class='container'>
      
      <div class="pagination-centered">
        <div class="btn-group" id="buttonz">
          Select a resource type to view national data for that type's extractors </br>
          <button ng-repeat="value in years" ng-click='updateYear(value)'
            class="btn btn-default" type="button" 
            ng-model="value" btn-radio="value" id="button_item">
            {{ value }}
          </button>
        </div>
      </div>
<div id = 'chartcontainer'>
    <div class='chart'>
      <div id='chart'></div>
  </div>
</div>
      </div>

      <script>
        function rChartsCtrl($scope){
          $scope.years = ["Gas", "Oil", "Minerals"]
          $scope.year = $scope.years[0]
          $scope.updateYear = function(x){
            $scope.year = x
          }
          $scope.$watch('year', function(newYear){
            mapchart23b225d997a1.updateChoropleth(chartParams.newData[newYear]);
            chartcall(newYear);
          })
        }
      </script>    
   

   
    
    <script id='popup-template' type='text/x-handlebars-template'>
    
</script>
<script>

var width = $( window ).width();
var height = $( window ).height();


var dataPack = {"AGO": {"name": "Angola", "class_income": "Upper middle income", "coef": "-0.390057847283248", "timedata": [{"max_rent": "58.65732702", "normalized_total_prod": "1", "gov_take": "63.3853846573325", "rev_resrevgdp": "37.3388", "year": "2007"}, {"max_rent": "44.33736847", "normalized_total_prod": "1.07826916235129", "gov_take": "54.6499267796418", "rev_resrevgdp": "24.2859", "year": "2009"}, {"max_rent": "46.63311704", "normalized_total_prod": "1.1147042683496", "gov_take": "70.8854962585663", "rev_resrevgdp": "33.1069", "year": "2010"}, {"max_rent": "46.34450134", "normalized_total_prod": "1.03446725226657", "gov_take": "85.546013127096", "rev_resrevgdp": "39.6968", "year": "2011"}, {"max_rent": "70.66782864", "normalized_total_prod": "1.12996525329739", "gov_take": "58.3239308511598", "rev_resrevgdp": "41.3565", "year": "2008"}], "class_reg": "Africa", "datapoints": "5", "classifier": "Oil", "fillKey": "Neutral (-0.46 to -0.17)"}, "DZA": {"name": "Algeria", "class_income": "Upper middle income", "coef": "-0.744340822931554", "timedata": [{"max_rent": "22.01059657", "normalized_total_prod": "1", "gov_take": "80.9920764714326", "rev_resrevgdp": "30.0531", "year": "2007"}, {"max_rent": "23.08234119", "normalized_total_prod": "1.00471023871777", "gov_take": "90.5580196177496", "rev_resrevgdp": "37.1901", "year": "2008"}, {"max_rent": "15.51521008", "normalized_total_prod": "0.920503491954755", "gov_take": "95.48219573878", "rev_resrevgdp": "24.0447", "year": "2009"}, {"max_rent": "16.91673044", "normalized_total_prod": "0.910581326685802", "gov_take": "97.0319783591955", "rev_resrevgdp": "24.1091", "year": "2010"}], "class_reg": "Africa", "datapoints": "4", "classifier": "Oil", "fillKey": "Regressive (-0.79 to -0.68)"}, "EGY": {"name": "Egypt", "fillKey": "missingData"}, "BGD": {"name": "Bangladesh", "fillKey": "missingData"}, "QAT": {"name": "Qatar", "class_income": "High income", "coef": "-0.904559924131336", "timedata": [{"max_rent": "22.42061091", "normalized_total_prod": "1", "gov_take": "53.3363553992601", "rev_resrevgdp": "21.9829", "year": "2007"}, {"max_rent": "24.24133407", "normalized_total_prod": "1.17507356109455", "gov_take": "42.2732624978174", "rev_resrevgdp": "19.863", "year": "2008"}, {"max_rent": "14.57706332", "normalized_total_prod": "1.24171217400526", "gov_take": "77.0836492359642", "rev_resrevgdp": "21.6616", "year": "2009"}, {"max_rent": "14.62300129", "normalized_total_prod": "1.53207815943922", "gov_take": "66.8747162793459", "rev_resrevgdp": "19.1483", "year": "2010"}, {"max_rent": "14.35673776", "normalized_total_prod": "1.82096204096568", "gov_take": "63.4242012007712", "rev_resrevgdp": "18.1307", "year": "2011"}], "class_reg": "Asia", "datapoints": "5", "classifier": "Oil", "fillKey": "Extremely Regressive (below -0.79)"}, "NAM": {"name": "Namibia", "fillKey": "missingData"}, "BGR": {"name": "Bulgaria", "fillKey": "missingData"}, "BOL": {"name": "Bolivia", "class_income": "Lower middle income", "coef": "-0.82037442217601", "timedata": [{"max_rent": "22.98623211", "normalized_total_prod": "1", "gov_take": "27.8556429557658", "rev_resrevgdp": "9.89498", "year": "2007"}, {"max_rent": "28.05789595", "normalized_total_prod": "1.04673759940563", "gov_take": "35.7151070733506", "rev_resrevgdp": "14.0082", "year": "2008"}, {"max_rent": "9.60235734", "normalized_total_prod": "1.01044981555832", "gov_take": "84.9306770583518", "rev_resrevgdp": "13.5379", "year": "2009"}, {"max_rent": "8.940715754", "normalized_total_prod": "1.08014775607613", "gov_take": "60.5597562341545", "rev_resrevgdp": "10.7747", "year": "2010"}, {"max_rent": "8.589304597", "normalized_total_prod": "1.1679802015367", "gov_take": "58.5610734492774", "rev_resrevgdp": "11.8836", "year": "2011"}], "class_reg": "Latin America and the Caribbean", "datapoints": "5", "classifier": "Gas", "fillKey": "Extremely Regressive (below -0.79)"}, "GHA": {"name": "Ghana", "fillKey": "missingData"}, "PAK": {"name": "Pakistan", "fillKey": "missingData"}, "PAN": {"name": "Panama", "fillKey": "missingData"}, "JOR": {"name": "Jordan", "fillKey": "missingData"}, "LBR": {"name": "Liberia", "fillKey": "missingData"}, "LBY": {"name": "Libya", "fillKey": "missingData"}, "VNM": {"name": "Vietnam", "class_income": "Lower middle income", "coef": "0.370225035918858", "timedata": [{"max_rent": "10.63683922", "normalized_total_prod": "1", "gov_take": "44.4230257400568", "rev_resrevgdp": "7.04883", "year": "2007"}, {"max_rent": "10.71933882", "normalized_total_prod": "0.954064003219392", "gov_take": "32.4564450993272", "rev_resrevgdp": "6.15809", "year": "2008"}, {"max_rent": "6.45501078", "normalized_total_prod": "1.0491663500049", "gov_take": "37.4884921484619", "rev_resrevgdp": "3.87352", "year": "2009"}, {"max_rent": "7.133016849", "normalized_total_prod": "1.06557776234864", "gov_take": "31.0015386795822", "rev_resrevgdp": "3.71142", "year": "2010"}, {"max_rent": "7.840935637", "normalized_total_prod": "1.07383283072144", "gov_take": "32.5375783864014", "rev_resrevgdp": "4.20936", "year": "2011"}], "class_reg": "Asia", "datapoints": "5", "classifier": "Oil", "fillKey": "Potentially Progressive (-0.167 to .95)"}, "ATA": {"name": "Antarctica", "fillKey": "missingData"}, "PRI": {"name": "Puerto Rico", "fillKey": "missingData"}, "PRK": {"name": "North Korea", "fillKey": "missingData"}, "TZA": {"name": "United Republic of Tanzania", "class_income": "Low income", "coef": "-0.280068962493522", "timedata": [{"max_rent": "2.754668444", "normalized_total_prod": "1", "gov_take": "4.09552601277075", "rev_resrevgdp": "0.143148", "year": "2007"}, {"max_rent": "2.895079819", "normalized_total_prod": "1.23182643140622", "gov_take": "4.06345911455389", "rev_resrevgdp": "0.155552", "year": "2008"}, {"max_rent": "3.684867625", "normalized_total_prod": "2.07444893778852", "gov_take": "2.44613747312921", "rev_resrevgdp": "0.10183", "year": "2009"}, {"max_rent": "5.202365212", "normalized_total_prod": "2.43694884365422", "gov_take": "3.02120966762345", "rev_resrevgdp": "0.172372", "year": "2010"}, {"max_rent": "5.646251922", "normalized_total_prod": "2.44338009925521", "gov_take": "3.82007571580723", "rev_resrevgdp": "0.236352", "year": "2011"}], "class_reg": "Africa", "datapoints": "5", "classifier": "Minerals", "fillKey": "Neutral (-0.46 to -0.17)"}, "BWA": {"name": "Botswana", "fillKey": "missingData"}, "KHM": {"name": "Cambodia", "fillKey": "missingData"}, "PRY": {"name": "Paraguay", "fillKey": "missingData"}, "SAU": {"name": "Saudi Arabia", "fillKey": "missingData"}, "LBN": {"name": "Lebanon", "fillKey": "missingData"}, "SVN": {"name": "Slovenia", "fillKey": "missingData"}, "BFA": {"name": "Burkina Faso", "fillKey": "missingData"}, "CHE": {"name": "Switzerland", "fillKey": "missingData"}, "MRT": {"name": "Mauritania", "fillKey": "missingData"}, "HRV": {"name": "Croatia", "fillKey": "missingData"}, "CHL": {"name": "Chile", "fillKey": "missingData"}, "CHN": {"name": "China", "fillKey": "missingData"}, "JAM": {"name": "Jamaica", "fillKey": "missingData"}, "DJI": {"name": "Djibouti", "fillKey": "missingData"}, "GIN": {"name": "Guinea", "fillKey": "missingData"}, "FIN": {"name": "Finland", "fillKey": "missingData"}, "URY": {"name": "Uruguay", "fillKey": "missingData"}, "THA": {"name": "Thailand", "fillKey": "missingData"}, "NPL": {"name": "Nepal", "fillKey": "missingData"}, "MAR": {"name": "Morocco", "fillKey": "missingData"}, "YEM": {"name": "Yemen", "class_income": "Lower middle income", "coef": "0.558371443227563", "timedata": [{"max_rent": "32.71277196", "normalized_total_prod": "1", "gov_take": "68.9975157947453", "rev_resrevgdp": "22.571", "year": "2007"}, {"max_rent": "33.41827195", "normalized_total_prod": "0.896351575456053", "gov_take": "83.1374525935055", "rev_resrevgdp": "27.7831", "year": "2008"}, {"max_rent": "20.04660583", "normalized_total_prod": "0.900793650793651", "gov_take": "71.6721500110361", "rev_resrevgdp": "14.6051", "year": "2009"}, {"max_rent": "20.56683784", "normalized_total_prod": "1.14445628997868", "gov_take": "69.762889932149", "rev_resrevgdp": "16.434", "year": "2010"}, {"max_rent": "18.70816838", "normalized_total_prod": "1.09429045249941", "gov_take": "69.5126985629074", "rev_resrevgdp": "16.0572", "year": "2011"}], "class_reg": "Asia", "datapoints": "5", "classifier": "Oil", "fillKey": "Potentially Progressive (-0.167 to .95)"}, "PHL": {"name": "Philippines", "class_income": "Lower middle income", "coef": "-0.580344488955878", "timedata": [{"max_rent": "2.413898278", "normalized_total_prod": "1", "gov_take": "4.12657945197443", "rev_resrevgdp": "0.126677", "year": "2007"}, {"max_rent": "1.172268618", "normalized_total_prod": "1.06458330345632", "gov_take": "3.86452145196947", "rev_resrevgdp": "0.0838189", "year": "2008"}, {"max_rent": "1.379872929", "normalized_total_prod": "1.26157538477059", "gov_take": "7.21567779848049", "rev_resrevgdp": "0.140359", "year": "2009"}, {"max_rent": "2.210313569", "normalized_total_prod": "1.51011693326852", "gov_take": "4.67947201850145", "rev_resrevgdp": "0.131601", "year": "2010"}, {"max_rent": "2.630274696", "normalized_total_prod": "1.83014757842901", "gov_take": "2.25169186164984", "rev_resrevgdp": "0.0753991", "year": "2011"}], "class_reg": "Asia", "datapoints": "5", "classifier": "Minerals", "fillKey": "Potentially Regressive (-0.68 to -0.46)"}, "ZAF": {"name": "South Africa", "fillKey": "missingData"}, "NIC": {"name": "Nicaragua", "fillKey": "missingData"}, "ROU": {"name": "Romania", "fillKey": "missingData"}, "SYR": {"name": "Syria", "fillKey": "missingData"}, "KAZ": {"name": "Kazakhstan", "class_income": "Upper middle income", "coef": "-0.716204610943727", "timedata": [{"max_rent": "29.74760934", "normalized_total_prod": "1", "gov_take": "21.7503275684673", "rev_resrevgdp": "9.23697", "year": "2007"}, {"max_rent": "33.82122188", "normalized_total_prod": "1.0859892020513", "gov_take": "20.9219690106712", "rev_resrevgdp": "10.7688", "year": "2008"}, {"max_rent": "24.72224504", "normalized_total_prod": "1.08110056723353", "gov_take": "25.3176716092537", "rev_resrevgdp": "8.81775", "year": "2009"}, {"max_rent": "26.32866471", "normalized_total_prod": "1.15786166870966", "gov_take": "30.1222548607859", "rev_resrevgdp": "11.2241", "year": "2010"}, {"max_rent": "27.4884312", "normalized_total_prod": "1.19890344376328", "gov_take": "29.0503849293469", "rev_resrevgdp": "11.0968", "year": "2011"}], "class_reg": "Asia", "datapoints": "5", "classifier": "Oil", "fillKey": "Regressive (-0.79 to -0.68)"}, "COD": {"name": "Democratic Republic of the Congo", "fillKey": "missingData"}, "BEN": {"name": "Benin", "fillKey": "missingData"}, "NGA": {"name": "Nigeria", "class_income": "Lower middle income", "coef": "0.947711419234319", "timedata": [{"max_rent": "29.64153798", "normalized_total_prod": "1", "gov_take": "60.0582436073455", "rev_resrevgdp": "20.373", "year": "2007"}, {"max_rent": "31.26869251", "normalized_total_prod": "0.930739837819543", "gov_take": "71.2247711699997", "rev_resrevgdp": "25.7926", "year": "2008"}, {"max_rent": "22.54044139", "normalized_total_prod": "0.849940729396029", "gov_take": "43.261189137589", "rev_resrevgdp": "10.5963", "year": "2009"}, {"max_rent": "25.11998625", "normalized_total_prod": "1.03638895557558", "gov_take": "51.8002297064533", "rev_resrevgdp": "13.9942", "year": "2010"}, {"max_rent": "32.91652679", "normalized_total_prod": "1.05633762410086", "gov_take": "65.8888522213668", "rev_resrevgdp": "23.0806", "year": "2011"}], "class_reg": "Africa", "datapoints": "5", "classifier": "Oil", "fillKey": "Progresive (.95 and up)"}, "BEL": {"name": "Belgium", "fillKey": "missingData"}, "DEU": {"name": "Germany", "fillKey": "missingData"}, "LKA": {"name": "Sri Lanka", "fillKey": "missingData"}, "FLK": {"name": "Falkland Islands", "fillKey": "missingData"}, "GBR": {"name": "United Kingdom", "class_income": "High income", "coef": "-0.653007616962167", "timedata": [{"max_rent": "1.110077788", "normalized_total_prod": "1", "gov_take": "32.4655204822988", "rev_resrevgdp": "0.552854", "year": "2007"}, {"max_rent": "1.519478934", "normalized_total_prod": "0.965475819658862", "gov_take": "32.7134921053453", "rev_resrevgdp": "0.805216", "year": "2008"}, {"max_rent": "0.995568283", "normalized_total_prod": "1.03560854665432", "gov_take": "41.7526794278533", "rev_resrevgdp": "0.581087", "year": "2009"}, {"max_rent": "1.181271476", "normalized_total_prod": "0.84370755503058", "gov_take": "36.5868740801744", "rev_resrevgdp": "0.561048", "year": "2010"}], "class_reg": "Europe", "datapoints": "4", "classifier": "Oil", "fillKey": "Potentially Regressive (-0.68 to -0.46)"}, "GUY": {"name": "Guyana", "fillKey": "missingData"}, "CRI": {"name": "Costa Rica", "fillKey": "missingData"}, "CMR": {"name": "Cameroon", "fillKey": "missingData"}, "LSO": {"name": "Lesotho", "fillKey": "missingData"}, "HUN": {"name": "Hungary", "fillKey": "missingData"}, "TKM": {"name": "Turkmenistan", "fillKey": "missingData"}, "TTO": {"name": "Trinidad and Tobago", "class_income": "High income", "coef": "-0.794434350544657", "timedata": [{"max_rent": "41.67924236", "normalized_total_prod": "1", "gov_take": "32.1446445283405", "rev_resrevgdp": "17.5493", "year": "2007"}, {"max_rent": "47.62187022", "normalized_total_prod": "0.996685409726849", "gov_take": "35.7486316902744", "rev_resrevgdp": "21.6739", "year": "2008"}, {"max_rent": "28.88994554", "normalized_total_prod": "1.01394350433045", "gov_take": "36.7976363071074", "rev_resrevgdp": "14.2503", "year": "2009"}, {"max_rent": "25.45441942", "normalized_total_prod": "1.08843936042638", "gov_take": "47.2017711648017", "rev_resrevgdp": "17.3189", "year": "2010"}, {"max_rent": "24.4794635", "normalized_total_prod": "1.0362362691539", "gov_take": "50.7863826598405", "rev_resrevgdp": "19.1147", "year": "2011"}], "class_reg": "Latin America and the Caribbean", "datapoints": "5", "classifier": "Gas", "fillKey": "Regressive (-0.79 to -0.68)"}, "NLD": {"name": "Netherlands", "fillKey": "missingData"}, "TCD": {"name": "Chad", "fillKey": "missingData"}, "GEO": {"name": "Georgia", "fillKey": "missingData"}, "MNE": {"name": "Montenegro", "fillKey": "missingData"}, "MNG": {"name": "Mongolia", "fillKey": "missingData"}, "-99": {"name": "Somaliland", "fillKey": "missingData"}, "BLZ": {"name": "Belize", "fillKey": "missingData"}, "AFG": {"name": "Afghanistan", "fillKey": "missingData"}, "BDI": {"name": "Burundi", "fillKey": "missingData"}, "BLR": {"name": "Belarus", "fillKey": "missingData"}, "GRC": {"name": "Greece", "fillKey": "missingData"}, "GRL": {"name": "Greenland", "fillKey": "missingData"}, "MOZ": {"name": "Mozambique", "fillKey": "missingData"}, "TJK": {"name": "Tajikistan", "fillKey": "missingData"}, "HTI": {"name": "Haiti", "fillKey": "missingData"}, "PSE": {"name": "West Bank", "fillKey": "missingData"}, "IND": {"name": "India", "fillKey": "missingData"}, "IRL": {"name": "Ireland", "fillKey": "missingData"}, "BTN": {"name": "Bhutan", "fillKey": "missingData"}, "MYS": {"name": "Malaysia", "fillKey": "missingData"}, "NOR": {"name": "Norway", "class_income": "High income", "coef": "-0.991363719824094", "timedata": [{"max_rent": "12.53737322", "normalized_total_prod": "1", "gov_take": "53.3768873091613", "rev_resrevgdp": "9.37083", "year": "2007"}, {"max_rent": "14.3566056", "normalized_total_prod": "1.01443313953474", "gov_take": "39.062203728381", "rev_resrevgdp": "8.44298", "year": "2008"}, {"max_rent": "9.162372111", "normalized_total_prod": "0.995295673521077", "gov_take": "71.5101498769102", "rev_resrevgdp": "9.1714", "year": "2009"}, {"max_rent": "10.03726253", "normalized_total_prod": "0.960294293996335", "gov_take": "65.5049760664364", "rev_resrevgdp": "8.56575", "year": "2010"}, {"max_rent": "10.77507422", "normalized_total_prod": "0.910829395970554", "gov_take": "59.6049338126914", "rev_resrevgdp": "8.03484", "year": "2011"}], "class_reg": "Europe", "datapoints": "5", "classifier": "Oil", "fillKey": "Extremely Regressive (below -0.79)"}, "CZE": {"name": "Czech Republic", "fillKey": "missingData"}, "ATF": {"name": "French Southern and Antarctic Lands", "fillKey": "missingData"}, "FJI": {"name": "Fiji", "fillKey": "missingData"}, "HND": {"name": "Honduras", "fillKey": "missingData"}, "DOM": {"name": "Dominican Republic", "fillKey": "missingData"}, "LUX": {"name": "Luxembourg", "fillKey": "missingData"}, "ISR": {"name": "Israel", "fillKey": "missingData"}, "PER": {"name": "Peru", "fillKey": "missingData"}, "IDN": {"name": "Indonesia", "class_income": "Lower middle income", "coef": "-0.50510419612239", "timedata": [{"max_rent": "4.499853943", "normalized_total_prod": "1", "gov_take": "32.1238917507523", "rev_resrevgdp": "4.26464", "year": "2007"}, {"max_rent": "5.413708932", "normalized_total_prod": "0.978664955272469", "gov_take": "36.1662430864898", "rev_resrevgdp": "5.83257", "year": "2008"}, {"max_rent": "2.645277625", "normalized_total_prod": "1.14532020374334", "gov_take": "38.1944259609652", "rev_resrevgdp": "3.13678", "year": "2009"}, {"max_rent": "3.249489816", "normalized_total_prod": "1.51445579687064", "gov_take": "37.2168808893794", "rev_resrevgdp": "3.28798", "year": "2010"}, {"max_rent": "3.980029391", "normalized_total_prod": "1.79930876645952", "gov_take": "38.3469574639384", "rev_resrevgdp": "3.58879", "year": "2011"}], "class_reg": "Asia", "datapoints": "5", "classifier": "Oil", "fillKey": "Potentially Regressive (-0.68 to -0.46)"}, "VUT": {"name": "Vanuatu", "fillKey": "missingData"}, "MKD": {"name": "Macedonia", "fillKey": "missingData"}, "SUR": {"name": "Suriname", "fillKey": "missingData"}, "COG": {"name": "Republic of the Congo", "fillKey": "missingData"}, "ISL": {"name": "Iceland", "fillKey": "missingData"}, "GAB": {"name": "Gabon", "fillKey": "missingData"}, "ETH": {"name": "Ethiopia", "fillKey": "missingData"}, "NER": {"name": "Niger", "fillKey": "missingData"}, "COL": {"name": "Colombia", "fillKey": "missingData"}, "PRT": {"name": "Portugal", "fillKey": "missingData"}, "MDA": {"name": "Moldova", "fillKey": "missingData"}, "MDG": {"name": "Madagascar", "fillKey": "missingData"}, "ECU": {"name": "Ecuador", "class_income": "Upper middle income", "coef": "0.11645621835725", "timedata": [{"max_rent": "26.39807791", "normalized_total_prod": "1", "gov_take": "27.176584864627", "rev_resrevgdp": "7.2917", "year": "2007"}, {"max_rent": "30.226846", "normalized_total_prod": "0.981660985988797", "gov_take": "32.0507260011944", "rev_resrevgdp": "9.78596", "year": "2008"}, {"max_rent": "17.18878078", "normalized_total_prod": "0.987986672730106", "gov_take": "28.3740613511644", "rev_resrevgdp": "4.93446", "year": "2009"}, {"max_rent": "20.40730023", "normalized_total_prod": "0.988845931505435", "gov_take": "36.7389958088289", "rev_resrevgdp": "7.57359", "year": "2010"}, {"max_rent": "25.59743028", "normalized_total_prod": "1.01343004318441", "gov_take": "44.8554853102159", "rev_resrevgdp": "11.5394", "year": "2011"}], "class_reg": "Latin America and the Caribbean", "datapoints": "5", "classifier": "Oil", "fillKey": "Potentially Progressive (-0.167 to .95)"}, "SEN": {"name": "Senegal", "fillKey": "missingData"}, "NZL": {"name": "New Zealand", "fillKey": "missingData"}, "SRB": {"name": "Republic of Serbia", "fillKey": "missingData"}, "FRA": {"name": "France", "fillKey": "missingData"}, "LTU": {"name": "Lithuania", "fillKey": "missingData"}, "RWA": {"name": "Rwanda", "fillKey": "missingData"}, "ZMB": {"name": "Zambia", "fillKey": "missingData"}, "GMB": {"name": "Gambia", "fillKey": "missingData"}, "GTM": {"name": "Guatemala", "fillKey": "missingData"}, "DNK": {"name": "Denmark", "fillKey": "missingData"}, "ZWE": {"name": "Zimbabwe", "fillKey": "missingData"}, "AUS": {"name": "Australia", "class_income": "High income", "coef": "-0.238845755240159", "timedata": [{"max_rent": "4.882686826", "normalized_total_prod": "1", "gov_take": "9.77472010162637", "rev_resrevgdp": "0.802509", "year": "2007"}, {"max_rent": "5.604830423", "normalized_total_prod": "1.0501105374819", "gov_take": "9.11667970946428", "rev_resrevgdp": "0.997229", "year": "2008"}, {"max_rent": "5.14230062", "normalized_total_prod": "1.11107549176219", "gov_take": "16.523087449557", "rev_resrevgdp": "1.31697", "year": "2009"}], "class_reg": "Oceania", "datapoints": "3", "classifier": "Minerals", "fillKey": "Neutral (-0.46 to -0.17)"}, "AUT": {"name": "Austria", "fillKey": "missingData"}, "VEN": {"name": "Venezuela", "class_income": "Upper middle income", "coef": "0.2942561793828", "timedata": [{"max_rent": "30.67968008", "normalized_total_prod": "1", "gov_take": "46.8563732876263", "rev_resrevgdp": "16.2698", "year": "2007"}, {"max_rent": "31.65288727", "normalized_total_prod": "0.999058320168988", "gov_take": "43.481786851021", "rev_resrevgdp": "15.5215", "year": "2008"}, {"max_rent": "17.30992957", "normalized_total_prod": "0.973326292938399", "gov_take": "24.0787366080966", "rev_resrevgdp": "4.59465", "year": "2009"}, {"max_rent": "18.30369311", "normalized_total_prod": "0.923906616640575", "gov_take": "52.671510026035", "rev_resrevgdp": "10.5152", "year": "2010"}, {"max_rent": "29.97722984", "normalized_total_prod": "0.917037231710599", "gov_take": "38.9071706095834", "rev_resrevgdp": "12.6232", "year": "2011"}], "class_reg": "Latin America and the Caribbean", "datapoints": "5", "classifier": "Oil", "fillKey": "Potentially Progressive (-0.167 to .95)"}, "KEN": {"name": "Kenya", "fillKey": "missingData"}, "LAO": {"name": "Laos", "fillKey": "missingData"}, "TUR": {"name": "Turkey", "fillKey": "missingData"}, "ALB": {"name": "Albania", "fillKey": "missingData"}, "OMN": {"name": "Oman", "class_income": "High income", "coef": "-0.383538988769296", "timedata": [{"max_rent": "39.69651185", "normalized_total_prod": "1", "gov_take": "70.2007382598178", "rev_resrevgdp": "37.3087", "year": "2007"}, {"max_rent": "40.4373586", "normalized_total_prod": "1.03203273945514", "gov_take": "74.3981724970439", "rev_resrevgdp": "40.55", "year": "2008"}, {"max_rent": "31.60433861", "normalized_total_prod": "1.09991974196211", "gov_take": "79.7435631046138", "rev_resrevgdp": "31.2465", "year": "2009"}, {"max_rent": "36.12800228", "normalized_total_prod": "1.18455407322939", "gov_take": "80.5915294961384", "rev_resrevgdp": "33.9481", "year": "2010"}, {"max_rent": "40.21141584", "normalized_total_prod": "1.20909539726786", "gov_take": "82.4096146492493", "rev_resrevgdp": "37.3113", "year": "2011"}], "class_reg": "Asia", "datapoints": "5", "classifier": "Oil", "fillKey": "Neutral (-0.46 to -0.17)"}, "MMR": {"name": "Myanmar", "fillKey": "missingData"}, "BRN": {"name": "Brunei", "fillKey": "missingData"}, "TUN": {"name": "Tunisia", "fillKey": "missingData"}, "RUS": {"name": "Russia", "class_income": "High income", "coef": "-0.258970749086618", "timedata": [{"max_rent": "15.48423904", "normalized_total_prod": "1", "gov_take": "39.1270254057272", "rev_resrevgdp": "10.6399", "year": "2007"}, {"max_rent": "16.79524014", "normalized_total_prod": "0.99420295127244", "gov_take": "40.6671458844068", "rev_resrevgdp": "12.6184", "year": "2008"}, {"max_rent": "12.61643072", "normalized_total_prod": "0.943554728862225", "gov_take": "45.5597589354433", "rev_resrevgdp": "8.90109", "year": "2009"}, {"max_rent": "14.13346813", "normalized_total_prod": "1.00980371824283", "gov_take": "46.7859765766396", "rev_resrevgdp": "9.80164", "year": "2010"}, {"max_rent": "15.42290733", "normalized_total_prod": "1.03897260021198", "gov_take": "53.9702683505874", "rev_resrevgdp": "11.7268", "year": "2011"}], "class_reg": "Europe", "datapoints": "5", "classifier": "Oil", "fillKey": "Neutral (-0.46 to -0.17)"}, "MEX": {"name": "Mexico", "fillKey": "missingData"}, "BRA": {"name": "Brazil", "fillKey": "missingData"}, "CAN": {"name": "Canada", "fillKey": "missingData"}, "TLS": {"name": "East Timor", "fillKey": "missingData"}, "GNQ": {"name": "Equatorial Guinea", "class_income": "High income", "coef": "-0.509428536466806", "timedata": [{"max_rent": "63.9897362", "normalized_total_prod": "1", "gov_take": "52.9941237669925", "rev_resrevgdp": "33.9108", "year": "2007"}, {"max_rent": "59.61883487", "normalized_total_prod": "0.993140656882976", "gov_take": "58.0284738462887", "rev_resrevgdp": "34.5959", "year": "2008"}, {"max_rent": "46.24574345", "normalized_total_prod": "0.876877673126362", "gov_take": "80.307715325528", "rev_resrevgdp": "37.1389", "year": "2009"}, {"max_rent": "45.643482", "normalized_total_prod": "0.781988171956239", "gov_take": "57.7841541537081", "rev_resrevgdp": "26.3747", "year": "2010"}, {"max_rent": "41.05321505", "normalized_total_prod": "0.719011908741916", "gov_take": "61.8126983942516", "rev_resrevgdp": "25.3761", "year": "2011"}], "class_reg": "Africa", "datapoints": "5", "classifier": "Oil", "fillKey": "Potentially Regressive (-0.68 to -0.46)"}, "USA": {"name": "United States of America", "fillKey": "missingData"}, "SWE": {"name": "Sweden", "fillKey": "missingData"}, "AZE": {"name": "Azerbaijan", "class_income": "Upper middle income", "coef": "-0.739731042115288", "timedata": [{"max_rent": "55.76653097", "normalized_total_prod": "1", "gov_take": "24.2355265892809", "rev_resrevgdp": "15.1803", "year": "2007"}, {"max_rent": "53.07226077", "normalized_total_prod": "1.14352168938847", "gov_take": "60.4921858016167", "rev_resrevgdp": "38.4154", "year": "2008"}, {"max_rent": "37.78422986", "normalized_total_prod": "1.23890754811533", "gov_take": "64.5079123659063", "rev_resrevgdp": "27.3592", "year": "2009"}, {"max_rent": "42.1619427", "normalized_total_prod": "1.28095920580809", "gov_take": "75.3249399999834", "rev_resrevgdp": "34.4911", "year": "2010"}], "class_reg": "Asia", "datapoints": "4", "classifier": "Oil", "fillKey": "Regressive (-0.79 to -0.68)"}, "GNB": {"name": "Guinea Bissau", "fillKey": "missingData"}, "SWZ": {"name": "Swaziland", "fillKey": "missingData"}, "CIV": {"name": "Ivory Coast", "fillKey": "missingData"}, "UKR": {"name": "Ukraine", "fillKey": "missingData"}, "KOR": {"name": "South Korea", "fillKey": "missingData"}, "CAF": {"name": "Central African Republic", "fillKey": "missingData"}, "SVK": {"name": "Slovakia", "fillKey": "missingData"}, "CYP": {"name": "Cyprus", "fillKey": "missingData"}, "BIH": {"name": "Bosnia and Herzegovina", "fillKey": "missingData"}, "TWN": {"name": "Taiwan", "fillKey": "missingData"}, "SOM": {"name": "Somalia", "fillKey": "missingData"}, "UZB": {"name": "Uzbekistan", "class_income": "Lower middle income", "coef": "-0.795499978914341", "timedata": [{"max_rent": "59.57629729", "normalized_total_prod": "1", "gov_take": "5.36970550010919", "rev_resrevgdp": "3.9317", "year": "2007"}, {"max_rent": "73.55188454", "normalized_total_prod": "1.02445571997542", "gov_take": "7.89545186114217", "rev_resrevgdp": "6.9741", "year": "2008"}, {"max_rent": "22.78364216", "normalized_total_prod": "1.00986713760566", "gov_take": "10.8641155960662", "rev_resrevgdp": "3.58631", "year": "2009"}, {"max_rent": "16.58894378", "normalized_total_prod": "0.934515023339376", "gov_take": "16.554084760922", "rev_resrevgdp": "4.61184", "year": "2010"}, {"max_rent": "15.08956301", "normalized_total_prod": "0.907881557940938", "gov_take": "23.8108676581037", "rev_resrevgdp": "6.64001", "year": "2011"}], "class_reg": "Asia", "datapoints": "5", "classifier": "Gas", "fillKey": "Extremely Regressive (below -0.79)"}, "ERI": {"name": "Eritrea", "fillKey": "missingData"}, "POL": {"name": "Poland", "fillKey": "missingData"}, "KWT": {"name": "Kuwait", "fillKey": "missingData"}, "TGO": {"name": "Togo", "fillKey": "missingData"}, "EST": {"name": "Estonia", "fillKey": "missingData"}, "MWI": {"name": "Malawi", "fillKey": "missingData"}, "ESP": {"name": "Spain", "fillKey": "missingData"}, "IRQ": {"name": "Iraq", "class_income": "Upper middle income", "coef": "-0.555204763787504", "timedata": [{"max_rent": "83.95839624", "normalized_total_prod": "1", "gov_take": "77.6406007781417", "rev_resrevgdp": "65.9427", "year": "2007"}, {"max_rent": "85.39357086", "normalized_total_prod": "1.13399276724797", "gov_take": "82.5771897191286", "rev_resrevgdp": "71.6087", "year": "2008"}, {"max_rent": "70.55025598", "normalized_total_prod": "1.15191980243985", "gov_take": "84.5123256381884", "rev_resrevgdp": "60.658", "year": "2009"}, {"max_rent": "73.59282102", "normalized_total_prod": "1.1642019513082", "gov_take": "82.7636445929733", "rev_resrevgdp": "61.7372", "year": "2010"}, {"max_rent": "77.69626655", "normalized_total_prod": "1.29931369911326", "gov_take": "78.6532395501804", "rev_resrevgdp": "61.7468", "year": "2011"}], "class_reg": "Asia", "datapoints": "5", "classifier": "Oil", "fillKey": "Potentially Regressive (-0.68 to -0.46)"}, "SLV": {"name": "El Salvador", "fillKey": "missingData"}, "MLI": {"name": "Mali", "fillKey": "missingData"}, "LVA": {"name": "Latvia", "fillKey": "missingData"}, "IRN": {"name": "Iran", "class_income": "Upper middle income", "coef": "-0.738769008878292", "timedata": [{"max_rent": "34.99250944", "normalized_total_prod": "1", "gov_take": "43.9102278403682", "rev_resrevgdp": "20.3852", "year": "2007"}, {"max_rent": "39.88777448", "normalized_total_prod": "1.02342612499656", "gov_take": "30.518810514999", "rev_resrevgdp": "16.6662", "year": "2008"}, {"max_rent": "23.45801663", "normalized_total_prod": "1.03464475131212", "gov_take": "44.1167116724537", "rev_resrevgdp": "13.7379", "year": "2009"}], "class_reg": "Asia", "datapoints": "3", "classifier": "Oil", "fillKey": "Regressive (-0.79 to -0.68)"}, "SSD": {"name": "South Sudan", "fillKey": "missingData"}, "SLE": {"name": "Sierra Leone", "fillKey": "missingData"}, "BHS": {"name": "The Bahamas", "fillKey": "missingData"}, "SLB": {"name": "Solomon Islands", "fillKey": "missingData"}, "ESH": {"name": "Western Sahara", "fillKey": "missingData"}, "ITA": {"name": "Italy", "fillKey": "missingData"}, "JPN": {"name": "Japan", "fillKey": "missingData"}, "KGZ": {"name": "Kyrgyzstan", "fillKey": "missingData"}, "ARM": {"name": "Armenia", "fillKey": "missingData"}, "NCL": {"name": "New Caledonia", "fillKey": "missingData"}, "ARE": {"name": "United Arab Emirates", "fillKey": "missingData"}, "ARG": {"name": "Argentina", "fillKey": "missingData"}, "SDN": {"name": "Sudan", "fillKey": "missingData"}, "BHR": {"class_income": "High income", "coef": "-0.830854444536201", "timedata": [{"max_rent": "23.01609225", "normalized_total_prod": "1", "gov_take": "69.6104163049476", "rev_resrevgdp": "23.4752", "year": "2007"}, {"max_rent": "26.53038008", "normalized_total_prod": "1.04829268292683", "gov_take": "67.8155807957506", "rev_resrevgdp": "27.6632", "year": "2008"}, {"max_rent": "17.43049059", "normalized_total_prod": "1.05510513036165", "gov_take": "80.0813701908841", "rev_resrevgdp": "19.8106", "year": "2009"}, {"max_rent": "19.20932707", "normalized_total_prod": "1.0773338940286", "gov_take": "87.688695083558", "rev_resrevgdp": "21.9827", "year": "2010"}], "class_reg": "Asia", "datapoints": "4", "classifier": "Oil"}, "UGA": {"name": "Uganda", "fillKey": "missingData"}, "PNG": {"name": "Papua New Guinea", "fillKey": "missingData"}, "CUB": {"name": "Cuba", "fillKey": "missingData"}};

  var chartParams = {
 "dom": "chart23b225d997a1",
"width":    1200,
"height":    500,
"scope": "world",
"fills": { "Extremely Regressive (below -0.79)": "#BA9336",
"Regressive (-0.79 to -0.68)": "#CCDE68",
"Potentially Regressive (-0.68 to -0.46)": "#FEE373",
"Neutral (-0.46 to -0.17)": "#F5F6CE",
"Potentially Progressive (-0.167 to .95)": "#86CCB1",
  "Progresive (.95 and up)": "#09EBE3",
"missingData":  '#d3d3d3'
},
"legend": true,
"labels": true,
"bodyattrs": "ng-app ng-controller='rChartsCtrl'",
"data": dataPack,
"id": "chart23b225d997a1" 
}
  chartParams.element = document.getElementById('chart23b225d997a1')
  
  
  var mapchart23b225d997a1 = new Datamap(chartParams);
  mapchart23b225d997a1.legend();
  
    
  // draw a bubble map if specified
  if (chartParams.bubbles) {
    var bubbles = chartParams.bubbles
    mapchart23b225d997a1.bubbles(bubbles.data, bubbles.config)
  }

  var resource_prices = {
    "Oil":"Average of Oil Benchmarks",
    "Minerals":"UNCTAD Minerals, Ores, Metals Index",
    "Gas":"Average of Gas Benchmarks"
  }

  var chart = c3.generate({
    size: {
        height: 380,
        width: 700
    },
    data: {

        xs: {
            'data1': 'x1',
            'data2': 'x2',
            'data3': 'x3',
            'data4': 'x4'

        },
        columns: [
            ['x1', 2007,2008,2009,2010,2011],
            ['x2', 2007,2008,2009,2010,2011],
            ['x3',2007,2008,2009,2010,2011],
            ['x4',2007,2008,2009,2010,2011],
            ["data1",52.91, 52.47, 57.25, 59.84, 57.47],
            ["data2",30, 30.77, 31.04, 32.82, 34.68],
            ["data3",50, 68.42, 43.22, 55.36, 74.17],
            ["data4",37.74, 41.91, 27.46, 28.79, 32.27]            
        ],

        names : 
        {
            data1: "Government Take Ratio",
            data2: "Total Production (Normalized to 2007)",
            data3: resource_prices["Oil"],
            data4: "Extractive Industries Rents (% GDP)"
        }
    }
});


chartcall = function(classifier) {
  
   chart.data.names({data1: "Government Take Ratio", data2: "Total Production (Normalized to 2007)", data3:resource_prices[classifier],
   // data4: "Government Take (Normalized to 2007)",
    data4:"Extractive Industries Rents (% GDP)" });
  var class_data = {
      "Oil": [
          ["data1",52.91, 52.47, 57.25, 59.84, 57.47],
          ["data2",30, 30.77, 31.04, 32.82, 34.68],
          ["data3",50, 68.42, 43.22, 55.36, 74.17],
          ["data4",37.74, 41.91, 27.46, 28.79, 32.27]
          ]
      ,
      "Gas": [
          ["data1",21.79, 26.45, 44.2, 41.44, 44.39],
          ["data2",30, 30.68, 30.34, 31.03, 31.12],
          ["data3",50, 72.22, 31.68, 38.26, 43.18],
          ["data4",54.45, 62.73, 29.23, 27.45, 28.61]
          ]
      ,
      "Minerals": [
          ["data1",6, 5.68, 8.73, 3.85, 3.04],
          ["data2",30, 33.47, 44.47, 59.21, 64.1],
          ["data3",50, 53.08, 36.98, 52.21, 59.87],
          ["data4",4.93, 5.65, 4.69, 4.26, 4.77]
          ]
      };
      
    chart.load({columns:class_data[classifier]});
}

</script>

<style>
.datamaps {
  position: relative;
}
</style>
    

  </body>
</html>
